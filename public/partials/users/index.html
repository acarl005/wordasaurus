<div class="panel panel-default">
  <div class="panel-body">

    <div ng-init="tab='button'">
      <button class="btn btn-primary disp-inb" ng-click="tab='form'" ng-show="tab==='button'">Add Piece</button>
      <form ng-show="tab==='form'" method="post" action="/pieces">
        <div class="form-group">
          <label for="new-title">Title</label>
          <input type="text" class="form-control" id="new-title" name="title" required>
        </div>
        <div class="form-group">
          <label for="new-piece">New Piece</label>
          <textarea class="form-control" id="new-piece" name="content" placeholder="Express yourself!" rows="10" required></textarea>
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>
        <button ng-click="tab='button'" class="btn btn-default">Close</button>
      </form>
    </div>

    <div class="dropdown">
      <button class="btn btn-default dropdown-toggle disp-inb" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">
        Dropdown
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
        <li ng-repeat="piece in pieces" role="presentation">
          <a ng-click="stuff.activePiece = piece" role="menuitem" tabindex="-1" >{{piece.title}}</a>
        </li>
      </ul>
    </div>

  </div>
</div>

<section id="show-piece">
  <span ng-repeat="word in stuff.activePiece.content.split(' ') track by $index" ng-click="setActive($index, word)">
    {{word}}
  </span>
</section>

<section id="synonyms">
  <h4>{{stuff.activeWord}}</h4>

  <ul ng-repeat="(part, set) in stuff.syn_json[stuff.activeWord]">
    <h5>{{part}}</h5>
    <li ng-repeat="syn in set.syn" ng-click="embedWord(syn)">
      {{syn}}
    </li>
  </ul>
</section>
